{"ast":null,"code":"import _regeneratorRuntime from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ashitosh/mineapp/mine3/src/components/login.js\";\nimport React, { Component, Fragment } from \"react\";\nimport fire from \"./../config/firebase\";\nimport { Link } from \"react-router-dom\";\nimport Spinner from \"../UI/Spinner\";\nimport { connect } from \"react-redux\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.onSubmitLogin = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        loading: true\n      });\n\n      if (!_this.props.authState.email || !_this.props.authState.password) {\n        return _this.setState({\n          error: {\n            message: \"Please enter required details\"\n          },\n          loading: false\n        });\n      }\n\n      _this.loginAction(); // fire\n      //   .auth()\n      //   .signInWithEmailAndPassword(\n      //     this.props.authState.email,\n      //     this.props.authState.password\n      //   )\n      //   .then(u => {\n      //     localStorage.setItem(\"authUser\", this.props.authState.email);\n      //     this.setState({\n      //       loading: false\n      //     });\n      //     if (localStorage.getItem(\"authUser\")) {\n      //       this.props.setIsAuthorised(true);\n      //     }\n      //     // window.location.href = \"/\";\n      //     this.props.history.push(\"/\");\n      //   })\n      //   .catch(error => {\n      //     this.setState({\n      //       error: error,\n      //       loading: false\n      //     });\n      //   });\n\n    };\n\n    _this.loginAction =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _this.validateCredentials();\n\n            case 3:\n              _context.next = 5;\n              return _this.successfullLogin();\n\n            case 5:\n              console.log(\"adklajdlkadj\");\n              console.log(res); // const user = await res.json();\n              // this.setState({ user });\n\n              _context.next = 14;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"111111111111111111111\");\n              console.log(_context.t0); // this.setState({ err: e.message });\n\n              _this.setState({\n                error: _context.t0,\n                loading: false\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n    _this.state = {\n      error: \"\",\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        loading: true\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        loading: false\n      });\n    }\n  }, {\n    key: \"validateCredentials\",\n    value: function validateCredentials() {\n      return fire.auth().signInWithEmailAndPassword(this.props.authState.email, this.props.authState.password);\n    }\n  }, {\n    key: \"successfullLogin\",\n    value: function successfullLogin() {\n      localStorage.setItem(\"authUser\", this.props.authState.email);\n      this.setState({\n        loading: false\n      });\n      this.props.history.push(\"/\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          error = _this$state.error,\n          loading = _this$state.loading;\n      var loginPage = React.createElement(\"div\", {\n        style: {\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: \"5px\",\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"40%\",\n          marginTop: \"50px\",\n          background: \"gray\",\n          borderRadius: \"5px\",\n          alignContent: \"center\",\n          justifyContent: \"center\",\n          marginLeft: \"30%\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Login Page\")), error ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, error.message)) : null, React.createElement(\"div\", {\n        style: {\n          marginTop: \"20px\"\n        },\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        style: {\n          width: \"20%\"\n        },\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Email :\"), React.createElement(\"input\", {\n        style: {\n          borderRadius: \"5px\"\n        },\n        type: \"text\",\n        name: \"email\",\n        placeholder: \" Email\",\n        onChange: this.props.onInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        style: {\n          width: \"20%\"\n        },\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"password :\"), React.createElement(\"input\", {\n        style: {\n          borderRadius: \"5px\"\n        },\n        type: \"text\",\n        name: \"password\",\n        placeholder: \" Password\" // value={this.props.authState.password}\n        ,\n        onChange: this.props.onInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          width: \"70px\",\n          borderRadius: \"5px\",\n          background: \"green\",\n          borderStyle: \"none\",\n          padding: \"5px\",\n          color: \"white\"\n        },\n        onClick: this.onSubmitLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }), \"or \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), \"Do\", React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \" Register \"), \"here.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))));\n\n      if (loading) {\n        loginPage = React.createElement(Spinner, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, loginPage);\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authState: state.authState\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onInputChange: function onInputChange(e) {\n      return dispatch({\n        type: \"onChange\",\n        name: e.target.name,\n        value: e.target.value\n      });\n    },\n    setIsAuthorised: function setIsAuthorised(status) {\n      return dispatch({\n        type: \"onSetAuthorise\",\n        status: status\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/ashitosh/mineapp/mine3/src/components/login.js"],"names":["React","Component","Fragment","fire","Link","Spinner","connect","Login","props","onSubmitLogin","e","preventDefault","setState","loading","authState","email","password","error","message","loginAction","validateCredentials","successfullLogin","console","log","res","state","auth","signInWithEmailAndPassword","localStorage","setItem","history","push","loginPage","width","height","borderRadius","justifyContent","marginTop","background","alignContent","marginLeft","color","onInputChange","borderStyle","padding","mapStateToProps","mapDispatchToProps","dispatch","type","name","target","value","setIsAuthorised","status"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport fire from \"./../config/firebase\";\nimport { Link } from \"react-router-dom\";\nimport Spinner from \"../UI/Spinner\";\nimport { connect } from \"react-redux\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: \"\",\n      loading: false\n    };\n  }\n\n  onSubmitLogin = e => {\n    e.preventDefault();\n\n    this.setState({\n      loading: true\n    });\n\n    if (!this.props.authState.email || !this.props.authState.password) {\n      return this.setState({\n        error: { message: \"Please enter required details\" },\n        loading: false\n      });\n    }\n\n    this.loginAction();\n    // fire\n    //   .auth()\n    //   .signInWithEmailAndPassword(\n    //     this.props.authState.email,\n    //     this.props.authState.password\n    //   )\n    //   .then(u => {\n    //     localStorage.setItem(\"authUser\", this.props.authState.email);\n    //     this.setState({\n    //       loading: false\n    //     });\n    //     if (localStorage.getItem(\"authUser\")) {\n    //       this.props.setIsAuthorised(true);\n    //     }\n    //     // window.location.href = \"/\";\n    //     this.props.history.push(\"/\");\n    //   })\n    //   .catch(error => {\n    //     this.setState({\n    //       error: error,\n    //       loading: false\n    //     });\n    //   });\n  };\n\n  componentWillMount() {\n    this.setState({\n      loading: true\n    });\n  }\n  componentDidMount() {\n    this.setState({\n      loading: false\n    });\n  }\n\n  validateCredentials() {\n    return fire\n      .auth()\n      .signInWithEmailAndPassword(\n        this.props.authState.email,\n        this.props.authState.password\n      );\n  }\n  successfullLogin() {\n    localStorage.setItem(\"authUser\", this.props.authState.email);\n    this.setState({\n      loading: false\n    });\n\n    this.props.history.push(\"/\");\n  }\n\n  loginAction = async () => {\n    try {\n      await this.validateCredentials();\n      await this.successfullLogin();\n      console.log(\"adklajdlkadj\");\n      console.log(res);\n      // const user = await res.json();\n      // this.setState({ user });\n    } catch (e) {\n      console.log(\"111111111111111111111\");\n      console.log(e);\n      // this.setState({ err: e.message });\n      this.setState({\n        error: e,\n        loading: false\n      });\n    }\n  };\n\n  render() {\n    const { error, loading } = this.state;\n\n    let loginPage = (\n      <div\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: \"5px\",\n          justifyContent: \"center\"\n        }}\n      >\n        <form>\n          <div\n            style={{\n              width: \"40%\",\n              marginTop: \"50px\",\n              background: \"gray\",\n              borderRadius: \"5px\",\n              alignContent: \"center\",\n              justifyContent: \"center\",\n              marginLeft: \"30%\",\n              color: \"white\"\n            }}\n          >\n            <br />\n            <h3>\n              <strong>Login Page</strong>\n            </h3>\n            {error ? (\n              <div>\n                <p style={{ color: \"red\" }}>{error.message}</p>\n              </div>\n            ) : null}\n            <div style={{ marginTop: \"20px\" }} className=\"form-group\">\n              <label style={{ width: \"20%\" }} htmlFor=\"email\">\n                Email :\n              </label>\n              <input\n                style={{ borderRadius: \"5px\" }}\n                type=\"text\"\n                name=\"email\"\n                placeholder=\" Email\"\n                onChange={this.props.onInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label style={{ width: \"20%\" }} htmlFor=\"password\">\n                password :\n              </label>\n              <input\n                style={{ borderRadius: \"5px\" }}\n                type=\"text\"\n                name=\"password\"\n                placeholder=\" Password\"\n                // value={this.props.authState.password}\n                onChange={this.props.onInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <button\n                style={{\n                  width: \"70px\",\n                  borderRadius: \"5px\",\n                  background: \"green\",\n                  borderStyle: \"none\",\n                  padding: \"5px\",\n                  color: \"white\"\n                }}\n                onClick={this.onSubmitLogin}\n              >\n                Login\n              </button>\n              <br />\n              or <br />\n              Do\n              <Link to={\"/register\"}> Register </Link>\n              here.\n            </div>\n            <br />\n          </div>\n        </form>\n      </div>\n    );\n\n    if (loading) {\n      loginPage = <Spinner />;\n    }\n\n    return <Fragment>{loginPage}</Fragment>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    authState: state.authState\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onInputChange: e =>\n      dispatch({\n        type: \"onChange\",\n        name: e.target.name,\n        value: e.target.value\n      }),\n    setIsAuthorised: status => dispatch({ type: \"onSetAuthorise\", status })\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login);\n"]},"metadata":{},"sourceType":"module"}