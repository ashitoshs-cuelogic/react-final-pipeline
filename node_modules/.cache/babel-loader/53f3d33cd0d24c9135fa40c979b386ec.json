{"ast":null,"code":"import _classCallCheck from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ashitosh/mineapp/mine3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ashitosh/mineapp/mine3/src/charts/piechart.js\";\nimport React, { PureComponent, Fragment } from \"react\";\nimport { PieChart, Pie, Cell } from \"recharts\";\nimport fire from \"../config/firebase\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nvar COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\"];\nvar RADIAN = Math.PI / 180;\n\nvar renderCustomizedLabel = function renderCustomizedLabel(_ref) {\n  var cx = _ref.cx,\n      cy = _ref.cy,\n      midAngle = _ref.midAngle,\n      innerRadius = _ref.innerRadius,\n      outerRadius = _ref.outerRadius,\n      percent = _ref.percent;\n  var radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n  var x = cx + radius * Math.cos(-midAngle * RADIAN);\n  var y = cy + radius * Math.sin(-midAngle * RADIAN);\n  return React.createElement(\"text\", {\n    x: x,\n    y: y,\n    fill: \"white\",\n    textAnchor: x > cx ? \"start\" : \"end\",\n    dominantBaseline: \"central\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \"\".concat((percent * 100).toFixed(0), \"%\"));\n};\n\nvar CustomPieChart =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CustomPieChart, _PureComponent);\n\n  function CustomPieChart(props) {\n    var _this;\n\n    _classCallCheck(this, CustomPieChart);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomPieChart).call(this, props));\n    _this.state = {\n      auther: []\n    };\n    return _this;\n  }\n\n  _createClass(CustomPieChart, [{\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this2 = this;\n\n      var a = [];\n      var b = [];\n      var abc = {};\n      fire.database().ref().child(\"pages\").orderByKey().once(\"value\", function (snapshot) {\n        var message = snapshot.val();\n        var msg = Object.keys(message || {}).map(function (key) {\n          return {\n            name: message[key].author,\n            value: 1\n          };\n        });\n        var msg1 = Object.keys(message || {}).map(function (key) {\n          return {\n            status: message[key].status\n          };\n        });\n        console.log(msg.length);\n\n        for (var index = 0; index < msg.length; index++) {\n          if (a[msg[index].name]) {\n            msg[index].value++;\n          }\n\n          a[msg[index].name] = msg[index];\n        }\n\n        var count = 0;\n\n        for (abc in a) {\n          b[count] = a[abc];\n          count++;\n        }\n\n        var category = _.countBy(msg1, function (rec) {\n          return rec.status === \"published\";\n        });\n\n        var catgoriesCount = [{\n          name: \"Published\",\n          value: category.true\n        }, {\n          name: \"On Hold\",\n          value: category.false\n        }];\n        console.log(b);\n\n        _this2.setState({\n          pages: b,\n          category: catgoriesCount\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Link, {\n        style: {\n          float: \"right\",\n          marginRight: \"10px\"\n        },\n        to: \"/showpages\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Back\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          width: \"50%\",\n          display: \"inline\",\n          float: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"pieChart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Pie Chart (Author): \")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), this.state.pages ? this.state.pages.map(function (entry, index) {\n        return React.createElement(\"div\", {\n          style: {\n            textAlign: \"left\",\n            width: \"40%\",\n            display: \"inline\",\n            float: \"left\",\n            marginLeft: \"60px\",\n            color: COLORS[index]\n          },\n          key: {\n            index: index\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, index + 1, \") \", entry.name, \": \", entry.value));\n      }) : null, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(PieChart, {\n        width: 800,\n        height: 400,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Pie, {\n        data: this.state.pages,\n        cx: 300,\n        cy: 200,\n        labelLine: false,\n        label: renderCustomizedLabel,\n        outerRadius: 100,\n        fill: \"#8884d8\",\n        dataKey: \"value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, this.state.pages ? this.state.pages.map(function (entry, index) {\n        return React.createElement(Cell, {\n          key: \"cell-\".concat(index) // label={entry.name}\n          ,\n          fill: COLORS[index % COLORS.length],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        });\n      }) : null))), React.createElement(\"div\", {\n        style: {\n          width: \"49%\",\n          display: \"inline\",\n          float: \"left\",\n          borderLeft: \"1px solid gray\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"pieChart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Donut Chart (Categories): \")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), this.state.category ? this.state.category.map(function (entry, index) {\n        return React.createElement(\"div\", {\n          style: {\n            textAlign: \"left\",\n            width: \"40%\",\n            display: \"inline\",\n            float: \"left\",\n            marginLeft: \"60px\",\n            color: COLORS[index]\n          },\n          key: {\n            index: index\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, index + 1, \") \", entry.name, \": \", entry.value), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }));\n      }) : null, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(PieChart, {\n        width: 800,\n        height: 400,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Pie, {\n        data: this.state.category,\n        cx: 300,\n        cy: 200,\n        innerRadius: 60,\n        outerRadius: 100,\n        labelLine: false,\n        label: renderCustomizedLabel,\n        fill: \"#8884d8\",\n        paddingAngle: 5,\n        dataKey: \"value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, this.state.category ? this.state.category.map(function (entry, index) {\n        return React.createElement(Cell, {\n          key: \"cell-\".concat(index),\n          fill: COLORS[index % COLORS.length],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        });\n      }) : null)))));\n    }\n  }]);\n\n  return CustomPieChart;\n}(PureComponent);\n\nexport default CustomPieChart;","map":{"version":3,"sources":["/home/ashitosh/mineapp/mine3/src/charts/piechart.js"],"names":["React","PureComponent","Fragment","PieChart","Pie","Cell","fire","Link","_","COLORS","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","x","cos","y","sin","toFixed","CustomPieChart","props","state","auther","a","b","abc","database","ref","child","orderByKey","once","snapshot","message","val","msg","Object","keys","map","key","name","author","value","msg1","status","console","log","length","index","count","category","countBy","rec","catgoriesCount","true","false","setState","pages","float","marginRight","width","display","entry","textAlign","marginLeft","color","borderLeft"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,QAA+C,OAA/C;AACA,SAASC,QAAT,EAAmBC,GAAnB,EAAwBC,IAAxB,QAAoC,UAApC;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,IAAMC,MAAM,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,CAAf;AAEA,IAAMC,MAAM,GAAGC,IAAI,CAACC,EAAL,GAAU,GAAzB;;AACA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,OAOxB;AAAA,MANJC,EAMI,QANJA,EAMI;AAAA,MALJC,EAKI,QALJA,EAKI;AAAA,MAJJC,QAII,QAJJA,QAII;AAAA,MAHJC,WAGI,QAHJA,WAGI;AAAA,MAFJC,WAEI,QAFJA,WAEI;AAAA,MADJC,OACI,QADJA,OACI;AACJ,MAAMC,MAAM,GAAGH,WAAW,GAAG,CAACC,WAAW,GAAGD,WAAf,IAA8B,GAA3D;AACA,MAAMI,CAAC,GAAGP,EAAE,GAAGM,MAAM,GAAGT,IAAI,CAACW,GAAL,CAAS,CAACN,QAAD,GAAYN,MAArB,CAAxB;AACA,MAAMa,CAAC,GAAGR,EAAE,GAAGK,MAAM,GAAGT,IAAI,CAACa,GAAL,CAAS,CAACR,QAAD,GAAYN,MAArB,CAAxB;AAEA,SACE;AACE,IAAA,CAAC,EAAEW,CADL;AAEE,IAAA,CAAC,EAAEE,CAFL;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,UAAU,EAAEF,CAAC,GAAGP,EAAJ,GAAS,OAAT,GAAmB,KAJjC;AAKE,IAAA,gBAAgB,EAAC,SALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAOM,CAACK,OAAO,GAAG,GAAX,EAAgBM,OAAhB,CAAwB,CAAxB,CAPN,OADF;AAWD,CAvBD;;IAyBMC,c;;;;;AACJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAFiB;AAKlB;;;;gDAE2B;AAAA;;AAC1B,UAAIC,CAAC,GAAG,EAAR;AACA,UAAIC,CAAC,GAAG,EAAR;AACA,UAAIC,GAAG,GAAG,EAAV;AAEA1B,MAAAA,IAAI,CACD2B,QADH,GAEGC,GAFH,GAGGC,KAHH,CAGS,OAHT,EAIGC,UAJH,GAKGC,IALH,CAKQ,OALR,EAKiB,UAAAC,QAAQ,EAAI;AACzB,YAAIC,OAAO,GAAGD,QAAQ,CAACE,GAAT,EAAd;AACA,YAAIC,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAYJ,OAAO,IAAI,EAAvB,EAA2BK,GAA3B,CAA+B,UAAAC,GAAG;AAAA,iBAAK;AAC/CC,YAAAA,IAAI,EAAEP,OAAO,CAACM,GAAD,CAAP,CAAaE,MAD4B;AAE/CC,YAAAA,KAAK,EAAE;AAFwC,WAAL;AAAA,SAAlC,CAAV;AAKA,YAAIC,IAAI,GAAGP,MAAM,CAACC,IAAP,CAAYJ,OAAO,IAAI,EAAvB,EAA2BK,GAA3B,CAA+B,UAAAC,GAAG;AAAA,iBAAK;AAChDK,YAAAA,MAAM,EAAEX,OAAO,CAACM,GAAD,CAAP,CAAaK;AAD2B,WAAL;AAAA,SAAlC,CAAX;AAGAC,QAAAA,OAAO,CAACC,GAAR,CAAYX,GAAG,CAACY,MAAhB;;AACA,aAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGb,GAAG,CAACY,MAAhC,EAAwCC,KAAK,EAA7C,EAAiD;AAC/C,cAAIxB,CAAC,CAACW,GAAG,CAACa,KAAD,CAAH,CAAWR,IAAZ,CAAL,EAAwB;AACtBL,YAAAA,GAAG,CAACa,KAAD,CAAH,CAAWN,KAAX;AACD;;AACDlB,UAAAA,CAAC,CAACW,GAAG,CAACa,KAAD,CAAH,CAAWR,IAAZ,CAAD,GAAqBL,GAAG,CAACa,KAAD,CAAxB;AACD;;AAED,YAAIC,KAAK,GAAG,CAAZ;;AACA,aAAKvB,GAAL,IAAYF,CAAZ,EAAe;AACbC,UAAAA,CAAC,CAACwB,KAAD,CAAD,GAAWzB,CAAC,CAACE,GAAD,CAAZ;AACAuB,UAAAA,KAAK;AACN;;AACD,YAAIC,QAAQ,GAAGhD,CAAC,CAACiD,OAAF,CAAUR,IAAV,EAAgB,UAASS,GAAT,EAAc;AAC3C,iBAAOA,GAAG,CAACR,MAAJ,KAAe,WAAtB;AACD,SAFc,CAAf;;AAIA,YAAIS,cAAc,GAAG,CACnB;AAAEb,UAAAA,IAAI,EAAE,WAAR;AAAqBE,UAAAA,KAAK,EAAEQ,QAAQ,CAACI;AAArC,SADmB,EAEnB;AAAEd,UAAAA,IAAI,EAAE,SAAR;AAAmBE,UAAAA,KAAK,EAAEQ,QAAQ,CAACK;AAAnC,SAFmB,CAArB;AAKAV,QAAAA,OAAO,CAACC,GAAR,CAAYrB,CAAZ;;AACA,QAAA,MAAI,CAAC+B,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAEhC,CAAT;AAAYyB,UAAAA,QAAQ,EAAEG;AAAtB,SAAd;AACD,OAvCH;AAwCD;;;6BAEQ;AACP,aACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEK,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,WAAW,EAAE;AAA/B,SAAb;AAAsD,QAAA,EAAE,EAAE,YAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE;AACE,QAAA,KAAK,EAAE;AACLC,UAAAA,KAAK,EAAE;AADF,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AACE,QAAA,KAAK,EAAE;AACLA,UAAAA,KAAK,EAAE,KADF;AAELC,UAAAA,OAAO,EAAE,QAFJ;AAGLH,UAAAA,KAAK,EAAE;AAHF,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,CAPF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAWG,KAAKpC,KAAL,CAAWmC,KAAX,GACG,KAAKnC,KAAL,CAAWmC,KAAX,CAAiBnB,GAAjB,CAAqB,UAACwB,KAAD,EAAQd,KAAR;AAAA,eACnB;AACE,UAAA,KAAK,EAAE;AACLe,YAAAA,SAAS,EAAE,MADN;AAELH,YAAAA,KAAK,EAAE,KAFF;AAGLC,YAAAA,OAAO,EAAE,QAHJ;AAILH,YAAAA,KAAK,EAAE,MAJF;AAKLM,YAAAA,UAAU,EAAE,MALP;AAMLC,YAAAA,KAAK,EAAE9D,MAAM,CAAC6C,KAAD;AANR,WADT;AASE,UAAA,GAAG,EAAE;AAAEA,YAAAA,KAAK,EAALA;AAAF,WATP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGA,KAAK,GAAG,CADX,QACgBc,KAAK,CAACtB,IADtB,QAC8BsB,KAAK,CAACpB,KADpC,CAXF,CADmB;AAAA,OAArB,CADH,GAkBG,IA7BN,EA8BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9BF,EA+BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/BF,EAgCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhCF,EAiCE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,GAAjB;AAAsB,QAAA,MAAM,EAAE,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AACE,QAAA,IAAI,EAAE,KAAKpB,KAAL,CAAWmC,KADnB;AAEE,QAAA,EAAE,EAAE,GAFN;AAGE,QAAA,EAAE,EAAE,GAHN;AAIE,QAAA,SAAS,EAAE,KAJb;AAKE,QAAA,KAAK,EAAElD,qBALT;AAME,QAAA,WAAW,EAAE,GANf;AAOE,QAAA,IAAI,EAAC,SAPP;AAQE,QAAA,OAAO,EAAC,OARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUG,KAAKe,KAAL,CAAWmC,KAAX,GACG,KAAKnC,KAAL,CAAWmC,KAAX,CAAiBnB,GAAjB,CAAqB,UAACwB,KAAD,EAAQd,KAAR;AAAA,eACnB,oBAAC,IAAD;AACE,UAAA,GAAG,iBAAUA,KAAV,CADL,CAEE;AAFF;AAGE,UAAA,IAAI,EAAE7C,MAAM,CAAC6C,KAAK,GAAG7C,MAAM,CAAC4C,MAAhB,CAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADmB;AAAA,OAArB,CADH,GAQG,IAlBN,CADF,CAjCF,CALF,EA6DE;AACE,QAAA,KAAK,EAAE;AACLa,UAAAA,KAAK,EAAE,KADF;AAELC,UAAAA,OAAO,EAAE,QAFJ;AAGLH,UAAAA,KAAK,EAAE,MAHF;AAILQ,UAAAA,UAAU,EAAE;AAJP,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQE;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,CARF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,EAYG,KAAK5C,KAAL,CAAW4B,QAAX,GACG,KAAK5B,KAAL,CAAW4B,QAAX,CAAoBZ,GAApB,CAAwB,UAACwB,KAAD,EAAQd,KAAR;AAAA,eACtB;AACE,UAAA,KAAK,EAAE;AACLe,YAAAA,SAAS,EAAE,MADN;AAELH,YAAAA,KAAK,EAAE,KAFF;AAGLC,YAAAA,OAAO,EAAE,QAHJ;AAILH,YAAAA,KAAK,EAAE,MAJF;AAKLM,YAAAA,UAAU,EAAE,MALP;AAMLC,YAAAA,KAAK,EAAE9D,MAAM,CAAC6C,KAAD;AANR,WADT;AASE,UAAA,GAAG,EAAE;AAAEA,YAAAA,KAAK,EAALA;AAAF,WATP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGA,KAAK,GAAG,CADX,QACgBc,KAAK,CAACtB,IADtB,QAC8BsB,KAAK,CAACpB,KADpC,CAXF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAdF,CADsB;AAAA,OAAxB,CADH,GAmBG,IA/BN,EAgCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhCF,EAiCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjCF,EAkCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlCF,EAmCE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,GAAjB;AAAsB,QAAA,MAAM,EAAE,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AACE,QAAA,IAAI,EAAE,KAAKpB,KAAL,CAAW4B,QADnB;AAEE,QAAA,EAAE,EAAE,GAFN;AAGE,QAAA,EAAE,EAAE,GAHN;AAIE,QAAA,WAAW,EAAE,EAJf;AAKE,QAAA,WAAW,EAAE,GALf;AAME,QAAA,SAAS,EAAE,KANb;AAOE,QAAA,KAAK,EAAE3C,qBAPT;AAQE,QAAA,IAAI,EAAC,SARP;AASE,QAAA,YAAY,EAAE,CAThB;AAUE,QAAA,OAAO,EAAC,OAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAYG,KAAKe,KAAL,CAAW4B,QAAX,GACG,KAAK5B,KAAL,CAAW4B,QAAX,CAAoBZ,GAApB,CAAwB,UAACwB,KAAD,EAAQd,KAAR;AAAA,eACtB,oBAAC,IAAD;AACE,UAAA,GAAG,iBAAUA,KAAV,CADL;AAEE,UAAA,IAAI,EAAE7C,MAAM,CAAC6C,KAAK,GAAG7C,MAAM,CAAC4C,MAAhB,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADsB;AAAA,OAAxB,CADH,GAOG,IAnBN,CADF,CAnCF,CA7DF,CALF,CADF;AAiID;;;;EAzL0BpD,a;;AA4L7B,eAAeyB,cAAf","sourcesContent":["import React, { PureComponent, Fragment } from \"react\";\nimport { PieChart, Pie, Cell } from \"recharts\";\nimport fire from \"../config/firebase\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\"];\n\nconst RADIAN = Math.PI / 180;\nconst renderCustomizedLabel = ({\n  cx,\n  cy,\n  midAngle,\n  innerRadius,\n  outerRadius,\n  percent\n}) => {\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\n\n  return (\n    <text\n      x={x}\n      y={y}\n      fill=\"white\"\n      textAnchor={x > cx ? \"start\" : \"end\"}\n      dominantBaseline=\"central\"\n    >\n      {`${(percent * 100).toFixed(0)}%`}\n    </text>\n  );\n};\n\nclass CustomPieChart extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auther: []\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    var a = [];\n    var b = [];\n    var abc = {};\n\n    fire\n      .database()\n      .ref()\n      .child(\"pages\")\n      .orderByKey()\n      .once(\"value\", snapshot => {\n        let message = snapshot.val();\n        let msg = Object.keys(message || {}).map(key => ({\n          name: message[key].author,\n          value: 1\n        }));\n\n        let msg1 = Object.keys(message || {}).map(key => ({\n          status: message[key].status\n        }));\n        console.log(msg.length);\n        for (var index = 0; index < msg.length; index++) {\n          if (a[msg[index].name]) {\n            msg[index].value++;\n          }\n          a[msg[index].name] = msg[index];\n        }\n\n        var count = 0;\n        for (abc in a) {\n          b[count] = a[abc];\n          count++;\n        }\n        var category = _.countBy(msg1, function(rec) {\n          return rec.status === \"published\";\n        });\n\n        var catgoriesCount = [\n          { name: \"Published\", value: category.true },\n          { name: \"On Hold\", value: category.false }\n        ];\n\n        console.log(b);\n        this.setState({ pages: b, category: catgoriesCount });\n      });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <Link style={{ float: \"right\", marginRight: \"10px\" }} to={\"/showpages\"}>\n          Back\n        </Link>\n        <br />\n        <div\n          style={{\n            width: \"100%\"\n          }}\n        >\n          <div\n            style={{\n              width: \"50%\",\n              display: \"inline\",\n              float: \"left\"\n            }}\n          >\n            <label htmlFor=\"pieChart\">\n              <strong>Pie Chart (Author): </strong>\n            </label>\n            <br />\n            {this.state.pages\n              ? this.state.pages.map((entry, index) => (\n                  <div\n                    style={{\n                      textAlign: \"left\",\n                      width: \"40%\",\n                      display: \"inline\",\n                      float: \"left\",\n                      marginLeft: \"60px\",\n                      color: COLORS[index]\n                    }}\n                    key={{ index }}\n                  >\n                    <span>\n                      {index + 1}) {entry.name}: {entry.value}\n                    </span>\n                  </div>\n                ))\n              : null}\n            <br />\n            <br />\n            <hr />\n            <PieChart width={800} height={400}>\n              <Pie\n                data={this.state.pages}\n                cx={300}\n                cy={200}\n                labelLine={false}\n                label={renderCustomizedLabel}\n                outerRadius={100}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n              >\n                {this.state.pages\n                  ? this.state.pages.map((entry, index) => (\n                      <Cell\n                        key={`cell-${index}`}\n                        // label={entry.name}\n                        fill={COLORS[index % COLORS.length]}\n                      />\n                    ))\n                  : null}\n              </Pie>\n            </PieChart>\n          </div>\n          <div\n            style={{\n              width: \"49%\",\n              display: \"inline\",\n              float: \"left\",\n              borderLeft: \"1px solid gray\"\n            }}\n          >\n            <label htmlFor=\"pieChart\">\n              <strong>Donut Chart (Categories): </strong>\n            </label>\n            <br />\n            {this.state.category\n              ? this.state.category.map((entry, index) => (\n                  <div\n                    style={{\n                      textAlign: \"left\",\n                      width: \"40%\",\n                      display: \"inline\",\n                      float: \"left\",\n                      marginLeft: \"60px\",\n                      color: COLORS[index]\n                    }}\n                    key={{ index }}\n                  >\n                    <span>\n                      {index + 1}) {entry.name}: {entry.value}\n                    </span>\n                    <br />\n                  </div>\n                ))\n              : null}\n            <br />\n            <br />\n            <hr />\n            <PieChart width={800} height={400}>\n              <Pie\n                data={this.state.category}\n                cx={300}\n                cy={200}\n                innerRadius={60}\n                outerRadius={100}\n                labelLine={false}\n                label={renderCustomizedLabel}\n                fill=\"#8884d8\"\n                paddingAngle={5}\n                dataKey=\"value\"\n              >\n                {this.state.category\n                  ? this.state.category.map((entry, index) => (\n                      <Cell\n                        key={`cell-${index}`}\n                        fill={COLORS[index % COLORS.length]}\n                      />\n                    ))\n                  : null}\n              </Pie>\n            </PieChart>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default CustomPieChart;\n"]},"metadata":{},"sourceType":"module"}